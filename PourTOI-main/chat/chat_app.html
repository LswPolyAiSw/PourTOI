<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>chat app - Bootdey.com</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script
      src="https://use.fontawesome.com/releases/v6.3.0/js/all.js"
      crossorigin="anonymous"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link href="style.css" rel="stylesheet" />
  </head>

  <body>
    <link
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
      rel="stylesheet"
    />
    <div class="container">
      <div class="row clearfix">
        <div class="col-lg-12">
          <div><i class="fa-solid fa-xmark"></i></div>
          <div class="card chat-app">
            <div class="profile">
              <i class="fa-solid fa-user" id="user"></i>
            </div>
            <span class="hashtag-list" id="hashtag-list">
              <!--나중에 실시간 뭐시깽이로 변경-->
              <div class="hashtag-block">
                <button class="rounded-button">태그1</button>
              </div>
              <div class="hashtag-block">
                <button class="rounded-button">태그2</button>
              </div>
              <div class="hashtag-block">
                <button class="rounded-button">태그3</button>
              </div>
              <div class="hashtag-block">
                <button class="rounded-button">태그4</button>
              </div>
              <div class="hashtag-block">
                <button class="rounded-button">태그5</button>
              </div>
              <div class="hashtag-block">
                <button class="rounded-button">태그6</button>
              </div>
              <div class="hashtag-block">
                <button class="rounded-button">태그7</button>
              </div>
            </span>
            <div class="chat">
              <span class="chat-border"></span>
              <div class="chat-history" id="chat-history">
                <!-- 채팅 기록이 여기에 표시 -->
              </div>

              <div class="chat-message clearfix">
                <div class="input-group mb-0">
                  <input
                    type="text"
                    id="user-input"
                    class="form-control"
                    placeholder="Enter text here..."
                  />
                  <div class="input-group-append">
                    <button
                      class="btn btn-outline-secondary"
                      type="button"
                      id="send-button"
                    >
                      <i class="fa-solid fa-arrow-right"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript">
      const userInput = document.getElementById("user-input");
      const sendButton = document.getElementById("send-button");
      const chatHistory = document.getElementById("chat-history");

      // 엔터 키 누를 때 메시지 전송
      userInput.addEventListener("keypress", function (event) {
        if (event.key === "Enter") {
          sendMessage();
        }
      });

      // 전송 버튼 클릭 시 메시지 전송
      sendButton.addEventListener("click", function () {
        sendMessage();
      });

      function sendMessage() {
        const message = userInput.value.trim();
        if (message !== "") {
          addMessage("user", message);
          userInput.value = "";
          scrollToBottom();
        }
      }

      function addMessage(sender, message) {
        const messageElement = document.createElement("div");
        messageElement.classList.add("message");
        messageElement.classList.add("clearfix");
        messageElement.classList.add(
          sender === "user" ? "user-message" : "other-message"
        );
        messageElement.innerHTML = `
                <div class="message-inner">${message}</div>
            `;
        chatHistory.appendChild(messageElement);

        // 새로운 채팅이 추가될 때마다 스크롤을 아래로 이동
        scrollToBottom();
      }
      a;
      function scrollToBottom() {
        chatHistory.scrollTop = chatHistory.scrollHeight;
      }
    </script>
  </body>
</html>
